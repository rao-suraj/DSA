(this.webpackJsonpcomments=this.webpackJsonpcomments||[]).push([[9],{157:function(t,e,a){"use strict";a.r(e);var c=a(51),n=a(52),s=a(58),o=a(56),r=a(0),i=a(70),d=a(57),l=a(43),m=a.n(l),b=a(48),u=a(44),j=a(42),p=a(2),h=a(107),f=(a(74),a(73)),O=a(46),x=a(75),v=a(59),g=a(53),w=a(55),N=a(108),y=a(49),S=a(64),k=a(1);var C=Object(p.g)((function(t){var e=Object(r.useState)(!0),a=Object(j.a)(e,2),c=a[0],n=a[1],s=Object(r.useState)(),o=Object(j.a)(s,2),l=o[0],p=o[1],C=Object(r.useState)(""),R=Object(j.a)(C,2),I=R[0],_=R[1],D=Object(r.useState)(!1),E=Object(j.a)(D,2),L=E[0],U=E[1],A=Object(r.useState)(""),M=Object(j.a)(A,2),K=M[0],P=M[1],J=Object(r.useState)(),T=Object(j.a)(J,2),V=T[0],q=T[1],z=Object(r.useState)("time"),B=Object(j.a)(z,2),F=B[0],G=B[1],H=Object(r.useState)("dsc"),Q=Object(j.a)(H,2),W=Q[0],X=Q[1],Y=Object(r.useState)(),Z=Object(j.a)(Y,2),$=Z[0],tt=Z[1],et=Object(r.useState)(!1),at=Object(j.a)(et,2),ct=at[0],nt=at[1],st=Object(r.useState)(""),ot=Object(j.a)(st,2),rt=ot[0],it=ot[1],dt=Object(r.useState)(!1),lt=Object(j.a)(dt,2),mt=lt[0],bt=lt[1],ut=Object(r.useState)(!1),jt=Object(j.a)(ut,2),pt=jt[0],ht=jt[1],ft=Object(r.useState)(void 0),Ot=Object(j.a)(ft,2),xt=Ot[0],vt=Ot[1],gt=Object(r.useState)([]),wt=Object(j.a)(gt,2),Nt=wt[0],yt=wt[1];Kt.bind(this),Jt.bind(this);var St=new URLSearchParams(t.location.search).get("rel"),kt=t.match.params.postId,Ct=t.match.params.postTitle,Rt=t.match.params.domainName,It=Object(r.useRef)(),_t=Object(r.useRef)();function Dt(){return(Dt=Object(u.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(O.d)().then((function(t){q(Object(b.a)({},t.data))})).catch((function(t){var e,a;403===(null===(e=t.response)||void 0===e?void 0:e.status)&&"Session Expired"==(null===(a=t.response.data)||void 0===a?void 0:a.detail)||(it("Unable to fetch user details..."),bt(!0))}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Et(t){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(u.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nt(!0),a&&p(),e.next=4,Object(O.b)(F,W,t.match.params.postId,a?"":K,"",void 0,Rt).then((function(t){var e=[];t.data.data.comments.forEach((function(t,a){e.push(t.comment_id)})),yt(e),p(a?t.data.data.comments:[].concat(Object(d.a)(l),Object(d.a)(t.data.data.comments))),n(t.data.LastEvaluatedKey),P(t.data.LastEvaluatedKey),vt(t.data.total_comments)})).catch((function(t){it("Unable to fetch comments..."),ht(!0)}));case 4:nt(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ut(){return(Ut=Object(u.a)(m.a.mark((function t(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Nt.length&&At(Nt,e);case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function At(t,e){return Mt.apply(this,arguments)}function Mt(){return(Mt=Object(u.a)(m.a.mark((function t(e,a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Object(O.e)(e).then((function(t){tt(a?t.data:Object(b.a)(Object(b.a)({},$),t.data))})).catch((function(t){it("Unable to fetch Vote Status..."),bt(!0)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Kt(t){return Pt.apply(this,arguments)}function Pt(){return(Pt=Object(u.a)(m.a.mark((function e(a){var c,n,s,o,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),c=!1,n=Object(v.a)(a,S.a,1),s=[t.match.params.postId],o={public_tags:n,private_tags:s},r="",e.next=8,Object(O.i)(a,"",Rt,t.match.params.postId,St,Ct,o).then((function(t){r=t.data.comment_id,tt(Object(b.a)(Object(b.a)({},$),{},Object(i.a)({},t.data.comment_id,{vote_type:0}))),p(l?[t.data].concat(Object(d.a)(l)):[t.data]),c=!0,Object(y.b)("Comment saved successfully!")})).catch((function(t){it("Unable to add comment... Please try again later !!"),bt(!0)}));case 8:return U(!1),e.abrupt("return",[c,r]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(t,e){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(u.a)(m.a.mark((function t(e,a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e!=F&&G(e),a&&X(a);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(r.useEffect)((function(){Object(v.c)()})),Object(r.useEffect)((function(){!function(){Dt.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){P(""),Et(!0)}),[F,W]),Object(r.useEffect)((function(){l&&V&&function(t){Ut.apply(this,arguments)}(!0)}),[l,V]),Object(r.useEffect)((function(){(localStorage.getItem("saved-comment-discuss-new-comment-".concat(kt))?localStorage.getItem("saved-comment-discuss-new-comment-".concat(kt)).replaceAll("&nbsp;","").replaceAll("<p>","").replaceAll("</p>","").replaceAll(" ",""):"")||U(!0);var t=localStorage.getItem("saved-comment-discuss-new-comment-".concat(kt));_(t)}),[]),Object(k.jsxs)("section",{ref:It,id:"comment-sys",children:[Object(k.jsx)(x.a,{orderData:Jt.bind(this),totalComments:xt}),function(){return pt?Object(k.jsx)("div",{className:"mt-3",children:Object(k.jsx)("div",{className:"alert alert-danger text-center",role:"alert",children:rt})}):l?Object(k.jsxs)("div",{children:[V&&!V.is_ban&&Object(k.jsx)(f.a,{saveComment:Kt.bind(this),disableSubmit:L,userData:V,domain:Rt,postId:t.match.params.postId,height:100,commentData:I,localStorageKey:"saved-comment-discuss-new-comment-".concat(kt)}),mt&&Object(k.jsx)("div",{className:"mt-3",children:Object(k.jsx)("div",{className:"alert alert-danger text-center",role:"alert",children:rt})}),!l.length&&Object(k.jsx)("p",{className:"text-center text-secondary mt-3",children:"No Comments to load"}),l.map((function(t,e){return Object(k.jsx)("div",{children:Object(k.jsx)(h.a,{comment:t,userData:V,voteStatus:$?$[t.comment_id]:null})},t.comment_id)})),!!c&&!!l.length&&Object(k.jsx)("div",{className:"d-flex justify-content-center mb-3 mt-2",children:Object(k.jsx)("button",{disabled:ct,onClick:function(){Et(!1)},className:"btn btn-light sofia-pro font-weight-bold",children:"Load More Comments"})})]}):Object(k.jsx)("section",{className:"ml-15 mr-15",children:Object(k.jsx)(N.a,{})})}(),Object(k.jsx)("button",{ref:_t,id:"back-to-top",className:"btn back-to-top d-none",onClick:function(){Object(v.b)(It)},children:Object(k.jsx)(g.a,{className:"text-white",icon:w.b})})]})})),R=function(t){Object(s.a)(r,t);var e=Object(o.a)(r);function r(t){var a;return Object(c.a)(this,r),(a=e.call(this,t)).state={},a}return Object(n.a)(r,[{key:"componentDidMount",value:function(){"dark"===new URLSearchParams(window.location.search).get("mode")&&a.e(8).then(a.t.bind(null,154,7))}},{key:"render",value:function(){return Object(k.jsx)("section",{children:Object(k.jsx)(C,{})})}}]),r}(r.Component);e.default=R},75:function(t,e,a){"use strict";var c=a(42),n=a(0),s=a(12),o=a(2),r=a(1);e.a=Object(o.g)((function(t){var e=t.orderData,a=t.fireDomainChange,o=Object(n.useState)("Most Recent"),i=Object(c.a)(o,2),d=i[0],l=i[1],m=Object(n.useState)("All Domains"),b=Object(c.a)(m,2),u=b[0],j=b[1],p=encodeURIComponent(t.match.params.domainName),h=encodeURIComponent(t.match.params.postId);return Object(n.useEffect)((function(){}),[]),Object(r.jsx)("section",{className:"ml-15 mr-15",children:Object(r.jsx)("div",{className:"px-0 mb-3",children:Object(r.jsx)("div",{className:"d-flex mx-0",children:Object(r.jsxs)("div",{className:"col-12 px-0",children:[Object(r.jsxs)("h5",{className:"float-left font-weight-bold headingStyle sofia-pro",children:["Discussions",!!t.totalComments&&Object(r.jsxs)("span",{className:"text-secondary ml-2 h6",children:[" ( ",t.totalComments," Threads )"]}),!t.dashboard&&Object(r.jsx)(s.b,{target:"_blank",to:{pathname:"/dashboard?utm-source=".concat(p,"&utm-campaign=").concat(h,"&utm-event=comment-thread")},children:Object(r.jsx)("img",{className:"ml-2 pb-1 external-link-icon",alt:"Click to open dashboard",src:"https://media.geeksforgeeks.org/img-practice/external_link-1629374313.svg"})})]}),Object(r.jsx)("div",{className:"float-right",children:Object(r.jsxs)("div",{className:"dropdown",children:[Object(r.jsx)("button",{className:"sofia-pro btn btn-sm dropdown-toggle font-weight-bold sofia-pro",type:"button",id:"filter-options","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:d}),Object(r.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"filter-options",children:[Object(r.jsx)("button",{onClick:function(){l("Most Recent"),e("time","dsc")},className:"dropdown-item font-weight-bold sofia-pro",children:"Most Recent"}),Object(r.jsx)("button",{onClick:function(){l("Least Recent"),e("time","asc")},className:"dropdown-item font-weight-bold sofia-pro",children:"Least Recent"}),Object(r.jsx)("button",{onClick:function(){l("Most Rated"),e("votes","dsc")},className:"dropdown-item font-weight-bold sofia-pro",children:"Most Rated"})]})]})}),Object(r.jsx)("div",{className:"float-right",children:t.dashboard&&t.domainList&&Object(r.jsxs)("div",{className:"dropdown",children:[Object(r.jsx)("button",{className:"w-100 sofia-pro btn btn-sm dropdown-toggle font-weight-bold sofia-pro",type:"button",id:"filter-options","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:u}),Object(r.jsxs)("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"filter-options",children:[Object(r.jsx)("button",{onClick:function(){j("All Domains"),a("")},className:"dropdown-item font-weight-bold sofia-pro",children:"All Domains"}),t.domainList.map((function(t,e){return Object(r.jsx)("button",{onClick:function(){j(t),a(t)},className:"dropdown-item font-weight-bold sofia-pro",children:t},e)}))]})]})})]})})})})}))}}]);
//# sourceMappingURL=9.1e9abe1f.chunk.js.map